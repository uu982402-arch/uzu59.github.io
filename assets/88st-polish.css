/* 88ST Polish — screen-level premium fixes
   목표: 라이트/다크 토글 시 가독성 유지, 모바일 터치영역 확장, 브랜드(골드) 일관성 회복
*/

/* ---- Brand accent: keep luxe gold consistent (unify.css가 blue로 덮어쓰는 문제 방지) ---- */
:root{
  --gold:#d4af37;
  --gold2:#f5e27a;

  /* legacy/bridge */
  --accent: var(--gold2);
  --accent-rgb:245,226,122;
  --accentRGB:245,226,122;
  --accent1: var(--gold);
  --accent2: var(--gold2);
  --accentText:#0b0c10;
  --accentOn:#0b0c10;

  /* unify/luxury consumption */
  --st-accent-rgb: var(--accent-rgb);
  --st-accent-1: var(--accent1);
  --st-accent-2: var(--accent2);
  --st-accent-text: var(--accentText);
}

/* ---- Numbers: pro-tool 느낌(정렬) ---- */
html, body{
  font-variant-numeric: tabular-nums;
}
:where(input, textarea, select){
  font-variant-numeric: tabular-nums;
}

/* ---- Focus: keyboard / accessibility polish ---- */
:where(a, button, input, select, textarea):focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(var(--accent-rgb), .18);
}

/* ---- Chips/tabs/buttons: hover/active 일관성 (특히 기존 페이지의 seg/v-chip/nav) ---- */
body.st-shell-on :where(.seg, .v-chip, .chip, .nav a, .navlinks a, .st-shell-chip){
  border: 1px solid var(--panel-border);
  background: var(--panel-2);
  color: var(--text-2);
  border-radius: 999px;
  transition:
    transform .13s cubic-bezier(.2,.9,.2,1),
    filter .13s ease,
    border-color .13s ease,
    background .13s ease,
    box-shadow .13s ease;
}
@media (hover:hover){
  body.st-shell-on :where(.seg, .v-chip, .chip, .nav a, .navlinks a, .st-shell-chip):hover{
    transform: translateY(-1px);
    filter: brightness(1.06);
    border-color: rgba(var(--accent-rgb), .28);
    box-shadow: 0 0 0 3px rgba(var(--accent-rgb), .10);
    color: var(--text);
  }
}
body.st-shell-on :where(.seg, .v-chip, .chip, .nav a, .navlinks a, .st-shell-chip):active{
  transform: translateY(0) scale(.99);
  filter: brightness(1.03);
}
body.st-shell-on :where(.seg.active, .v-chip.active, .chip.active, .nav a.active, .navlinks a.active, .st-shell-chip.is-on){
  background: linear-gradient(135deg, var(--gold), var(--gold2)) !important;
  color: #111 !important;
  border-color: transparent !important;
  box-shadow: var(--shadow-sm);
}

/* ---- Mobile tap targets: 44px 룰 ---- */
@media (max-width: 520px){
  body.st-shell-on :where(
    button,
    .btn, a.btn, .cta, a.cta,
    .seg, .v-chip, .chip,
    .nav a, .navlinks a,
    .st-shell-link, .st-shell-chip,
    [role="button"]
  ){
    min-height: 44px;
  }
  body.st-shell-on :where(.seg, .v-chip, .chip, .nav a, .navlinks a, .st-shell-chip){
    padding: 10px 12px;
  }
}

/* ---- Light mode micro-contrast: 얇은 글자가 '사라져 보이는' 문제 방지 ---- */
:root[data-theme="light"] body.st-shell-on :where(.muted, .small, .small-hint, .hint, .sub, .desc){
  color: var(--muted) !important;
}

/* ---- Prevent horizontal jiggle on touch devices ---- */
body{ overflow-x: hidden; }

/* ========================================================================
   Premium Header Polish ("돈 많이 투자한" 느낌)
   - 더 넓은 컨테이너 + 리듬 통일
   - 센터 레일(rail)로 메뉴를 한 덩어리처럼 고급스럽게
   - 타이포/버튼 사이즈 업, 간격 조정, 정렬 안정화
   ======================================================================== */

/* Wider shell container + balanced padding (desktop) */
:root{
  --shell-max: 1240px;
  --shell-h: 66px;
  --shell-pad: 18px;
}

/* Header glass: richer depth + premium highlight line */
body.st-shell-on .st-shell-header{
  box-shadow: 0 18px 60px rgba(0,0,0,.26);
}
body.st-shell-on .st-shell-header::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:-1px;
  height:1px;
  background: linear-gradient(90deg,
    rgba(var(--accent-rgb),0) 0%,
    rgba(var(--accent-rgb),.32) 20%,
    rgba(255,255,255,.10) 50%,
    rgba(var(--accent-rgb),.32) 80%,
    rgba(var(--accent-rgb),0) 100%
  );
  pointer-events:none;
}

/* Layout: make the header feel filled & aligned */
body.st-shell-on .st-shell-inner{
  padding: 10px var(--shell-pad);
  gap: 14px;
}

/* Brand block: a bit stronger, less "thin" */
body.st-shell-on .st-shell-brand{ min-width: 200px; }
body.st-shell-on .st-shell-logo{ width:36px; height:36px; border-radius:14px; }
body.st-shell-on .st-shell-title{ font-size: 14px; }
body.st-shell-on .st-shell-sub{ font-size: 11px; letter-spacing: .02em; }

/* Brand wordmark: fixed premium color (no gradient) */
body.st-shell-on .st-shell-title{
  background: none !important;
  color: var(--text) !important;
  text-shadow: none !important;
}

/* Center rail: visually unify nav + search into one expensive glass pill */
body.st-shell-on .st-shell-center{
  justify-content: space-between;
  gap: 10px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: color-mix(in srgb, var(--panel) 58%, rgba(255,255,255,.04));
  box-shadow: 0 16px 44px rgba(0,0,0,.22);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

/* VIP3: 성능 저하 환경(PC 버벅임/저사양)에서는 블러/그림자 비용을 자동 완화 */
:root[data-perf="low"] body.st-shell-on .st-shell-center,
:root[data-perf="low"] body.st-shell-on .st-shell-header,
:root[data-perf="low"] body .section,
:root[data-perf="low"] body .panel,
:root[data-perf="low"] body .card,
:root[data-perf="low"] body .scam-box{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
:root[data-perf="low"] body .section,
:root[data-perf="low"] body .panel,
:root[data-perf="low"] body .card{
  box-shadow: 0 10px 26px rgba(0,0,0,.22) !important;
}

/* Nav group centered in the rail */
body.st-shell-on .st-shell-nav{
  flex: 1 1 auto;
  justify-content: center;
  gap: 10px;
}

/* Premium pill links: consistent height, slightly larger, cleaner borders */
body.st-shell-on .st-shell-link{
  padding: 10px 14px;
  font-size: 13px;
  font-weight: 1000;
  border-color: rgba(255,255,255,.10);
  background: rgba(0,0,0,.08);
  min-height: 42px;
}
@media (hover:hover){
  body.st-shell-on .st-shell-link:hover{
    box-shadow: 0 0 0 3px rgba(var(--accent-rgb), .10);
  }
}

/* Dropdown menu: bigger hit areas + title separators */
body.st-shell-on .st-shell-menu{
  border-radius: 20px;
}
body.st-shell-on .st-shell-menu a{ padding: 12px 12px; }

/* Mega dropdown grid for calculator menu (2 columns with section titles) */
body.st-shell-on .st-shell-mega-grid{
  min-width: 560px;
  padding: 14px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
body.st-shell-on .st-shell-mega-grid .st-shell-menu-sep{ display:none; }
body.st-shell-on .st-shell-mega-grid .st-shell-menu-group{
  display:flex;
  flex-direction:column;
  gap: 6px;
}
body.st-shell-on .st-shell-mega-grid .st-shell-menu-title{
  font-size: 11px;
  font-weight: 1000;
  letter-spacing: .06em;
  color: var(--muted);
  padding: 4px 8px 2px;
}
body.st-shell-on .st-shell-mega-grid a{
  background: rgba(0,0,0,.06);
  border: 1px solid rgba(255,255,255,.08);
}
@media (hover:hover){
  body.st-shell-on .st-shell-mega-grid a:hover{
    border-color: rgba(var(--accent-rgb), .22);
    box-shadow: 0 0 0 3px rgba(var(--accent-rgb), .08);
  }
}

@media (max-width: 720px){
  body.st-shell-on .st-shell-mega-grid{ min-width: 0; width: calc(100vw - 28px); grid-template-columns: 1fr; }
}

/* Mobile: when nav/search are hidden, remove empty rail and keep header clean */
@media (max-width: 860px){
  body.st-shell-on .st-shell-center{ display:none; }
}

/* Search button inside rail: make it feel like part of the system */
body.st-shell-on .st-shell-search{
  box-shadow: none;
  border-color: rgba(255,255,255,.10);
  background: rgba(0,0,0,.10);
  min-width: 240px;
  max-width: 340px;
  height: 42px;
  padding: 10px 14px;
}
body.st-shell-on .st-shell-search .q{
  color: color-mix(in srgb, var(--text) 86%, transparent);
}

/* Burger button: match pills */
body.st-shell-on .st-shell-btn.ghost{
  border-color: rgba(255,255,255,.10);
  background: rgba(0,0,0,.10);
  min-height: 42px;
  border-radius: 999px;
  padding: 10px 14px;
}

/* Light mode: rail/background shouldn't look "dirty" */
:root[data-theme="light"] body.st-shell-on .st-shell-center{
  border-color: rgba(0,0,0,.08);
  background: color-mix(in srgb, var(--panel) 88%, rgba(255,255,255,.02));
  box-shadow: 0 18px 56px rgba(0,0,0,.10);
}
:root[data-theme="light"] body.st-shell-on .st-shell-link,
:root[data-theme="light"] body.st-shell-on .st-shell-search,
:root[data-theme="light"] body.st-shell-on .st-shell-btn.ghost{
  border-color: rgba(0,0,0,.10);
  background: rgba(255,255,255,.40);
}

/* Small desktops: keep rail readable but avoid overflow */
@media (max-width: 1180px){
  :root{ --shell-pad: 14px; }
  body.st-shell-on .st-shell-link{ padding: 10px 12px; }
  body.st-shell-on .st-shell-search{ min-width: 220px; }
}

