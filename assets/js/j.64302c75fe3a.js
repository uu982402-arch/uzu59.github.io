(()=>{"use strict";const e={card1:{title:"어느날",code:"ST95",link:"http://oday-147.com",telegram:"UZU59",benefit:"고액전용 전용 무제제 삼치기OK / 입금플러스5+2 10+3 20+4 외 첫충 10%",notice:"가입코드 미입력 시 혜택 적용 불가"},card2:{title:"OK Bet",code:"88ST",link:"https://ok-8888.com/?code=88ST",telegram:"UZU59",benefit:"신규가입 77만원 쿠폰지급, 코인 입/출금 가능, 롤 세트별 베팅, 벤픽 후 마감, BJ, 스타리그 업데이트",notice:"가입코드 미입력 시 혜택 적용 불가"},card3:{title:"SPEED Bet",code:"88ST",link:"/speed/",telegram:"UZU59",benefit:"신규가입 77만원 쿠폰지급, 코인 입/출금 가능, 롤 세트별 베팅, 벤픽 후 마감, BJ, 스타리그 업데이트",notice:"가입코드 미입력 시 혜택 적용 불가"},card4:{title:"VEGAS",code:"6789",link:"https://las403.com",telegram:"UZU59",benefit:"스포츠·고액전용 입플 최대 30% 페이백 / 카지노 입플",notice:"가입코드 미입력 시 혜택 적용 불가"},card6:{title:"CHOY BET",code:"TAN",link:"https://cy-40.com",telegram:"DY0302",benefit:"신규 30% / 매충 10% / 페이백 10 / 입플 %",notice:"가입코드 미입력 시 혜택 적용 불가"},card7:{title:"CAPS",code:"RUST",link:"https://caps-22.com/",telegram:"UZU59",benefit:"미겜 첫충 5% / 페이백 5% / 출석 30만원",notice:"가입코드 미입력 시 혜택 적용 불가"},card8:{title:"BETZY",code:"BANGU",link:"https://b88-et.com",telegram:"UZU59",benefit:"스포츠 첫충 10% / 미겜 첫충 5% / 페이백 5% / 출석 30만원",notice:"가입코드 미입력 시 혜택 적용 불가"},card10:{title:"RED HULK",code:"HERO",link:"https://rhk-777.com",telegram:"SDTR8",benefit:"입금플러스 신규 30% / 매충 10% / 페이백5% 콤프(1%/3%)%",notice:"가입코드 미입력 시 혜택 적용 불가"},card11:{title:"TOP GUN",code:"GAS7",link:"https://topgun-88.com",telegram:"SDTR8",benefit:"입금플러스 신규 30% / 매충 10% / 페이백5% 콤프(1%/3%)%",notice:"가입코드 미입력 시 혜택 적용 불가"}},t=["card1","card2","card3"],n=new Set(t),o="88_card_click_";let c="all",r="default",i=!1,d=null;function norm(e){return String(e||"").toLowerCase().replace(/\s+/g,"")}function getClickCount(e){return Number(localStorage.getItem(o+e)||0)}function cleanBenefit(e){return String(e||"").replace(/[•]/g,"·").replace(/\s*\/\s*/g," / ").replace(/\s+/g," ").trim()}function trackSafe(e,t){try{"function"==typeof window.track&&window.track(e,t||{})}catch(e){}}function renderGrid(){const o=document.getElementById("vendorGrid");if(!o)return;const i=norm(document.getElementById("searchInput")?.value||""),d=Object.keys(e);d.forEach(t=>{const n=e[t]||{};n.priority||(n.priority="normal"),n.tag||(n.tag="")});const isGuarantee=e=>n.has(e),shuffle=e=>e.slice().sort(()=>Math.random()-.5);let a=[...t.filter(e=>d.includes(e)),...d.filter(e=>isGuarantee(e)&&!t.includes(e))],l=(t=>{const n=t.filter(t=>"high"===(e[t].priority||"normal")),o=t.filter(t=>"normal"===(e[t].priority||"normal")),c=t.filter(t=>"ad"===(e[t].priority||"normal"));return[...shuffle(n),...shuffle(o),...c]})(d.filter(e=>!isGuarantee(e)));const match=t=>{const n=e[t]||{};if("guarantee"===c&&!isGuarantee(t))return!1;if("verified"===c&&isGuarantee(t))return!1;if("rec"===c&&"rec"!==n.tag)return!1;if("new"===c&&"new"!==n.tag)return!1;if(i){if(!norm((n.title||"")+(n.code||"")+(n.benefit||"")+(n.notice||"")).includes(i))return!1}return!0};a=a.filter(match),l=l.filter(match),"pop"===r&&(a.sort((e,t)=>getClickCount(t)-getClickCount(e)),l.sort((e,t)=>getClickCount(t)-getClickCount(e)));o.innerHTML=[...a,...l].map(t=>{const o=e[t]||{},c=function cardSourcesById(e){const t=String(e).replace("card",""),n={card2:["/img/img2.gif"],card3:["/img/img3.gif"]}[e];return{gif:Array.isArray(n)?n[0]||"":n||"",gif2:Array.isArray(n)&&n[1]||"",webp:`/img/img${t}.webp`,jpg:`/img/img${t}.jpg`}}(t),r=c.gif||c.webp||c.jpg||"";return`\n        <div class="card card--imageOnly ${n.has(t)?"featured":""}" data-card="${t}" role="button" tabindex="0"\n             aria-label="${(o.title||"카드").replace(/"/g,"&quot;")} 열기">\n          <div class="img-box">\n            <img class="cardThumb"\n                 src="${r}"\n                 data-gif="${c.gif}"\n                 data-gif2="${c.gif2||""}"\n                 data-webp="${c.webp}"\n                 data-jpg="${c.jpg}"\n                 loading="lazy" decoding="async"\n                 alt="${(o.title||"").replace(/"/g,"&quot;")}">\n            <div class="img-title" aria-hidden="true">${o.title||""}</div>\n          </div>\n        </div>\n      `}).join(""),function bindCardClicks(){const e=document.getElementById("vendorGrid");if(!e)return;e.querySelectorAll(".card[data-card]").forEach(e=>{const open=()=>openCard(e.getAttribute("data-card"));e.onclick=open,e.onkeydown=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),open())}})}(),function bindGifFallback(){document.querySelectorAll("img.cardThumb").forEach(e=>{e.addEventListener("error",()=>{const t=e.dataset.gif,n=e.dataset.gif2,o=e.dataset.webp,c=e.dataset.jpg,r=e.getAttribute("src")||"";r===t&&n?e.src=n:r!==t&&r!==n||!o?r===o&&c&&(e.src=c):e.src=o},{once:!1})})}();const s=document.getElementById("emptyHint");s&&(s.style.display=o.querySelectorAll(".card[data-card]").length?"none":"block")}let a="",l="",s=null;function openCard(t){const i=e[t];if(!i)return;l=t,function incCardClick(e){try{localStorage.setItem(o+e,String(getClickCount(e)+1))}catch(e){}}(t);const d=n.has(t)?"guarantee":"verified";let u;try{u=Array.from(document.querySelectorAll("#vendorGrid .card[data-card]")).findIndex(e=>e.getAttribute("data-card")===t)+1,u<=0&&(u=void 0)}catch(e){}trackSafe("card_open",{vendor_id:t,vendor_name:i.title||"",vendor_group:d,vendor_pos:u,filter:c,sort:r}),a=i.code||"";const setText=(e,t)=>{const n=document.getElementById(e);n&&(n.innerText=t)};setText("pTitle",i.title||""),setText("pCode",i.code||"");const m=document.getElementById("pBenefit"),f=document.getElementById("pNotice");if(m){const e=i.benefit?cleanBenefit(i.benefit):"";m.style.display=e?"block":"none",m.innerText=e?"혜택 : "+e:""}if(f){const e=i.notice?cleanBenefit(i.notice):"";f.style.display=e?"block":"none",f.innerText=e?"주의 : "+e:""}const g=document.getElementById("pLink");g&&(g.href=i.link?function appendUtmSafe(e){try{if("function"==typeof window.appendUtm)return window.appendUtm(e)}catch(e){}return e}(i.link):"#");const p=document.getElementById("pTelegram");p&&(p.href="https://t.me/UZU59",p.innerText="문의 (텔레그램)");try{window.__88stAddRecentVendor&&window.__88stAddRecentVendor({id:t,title:i.title||t,href:"/cert/?v="+encodeURIComponent(t)}),window.__88stRefreshUserMenu&&window.__88stRefreshUserMenu()}catch(e){}const y=document.getElementById("favBtn");if(y&&window.__88stIsFavVendor){const e=window.__88stIsFavVendor(t);y.textContent=e?"★ 즐겨찾기":"☆ 즐겨찾기",y.classList.toggle("is-on",!!e)}s=document.activeElement;const h=document.getElementById("cardPopup");if(h){try{h.style.display="flex",h.style.position="fixed",h.style.inset="0",h.style.zIndex="99999"}catch(e){}h.classList.add("open"),h.setAttribute("aria-hidden","false");try{document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open")}catch(e){}}const v=document.getElementById("closeBtn");if(v)try{v.focus({preventScroll:!0})}catch(e){try{v.focus()}catch(e){}}}function closeCard(){const e=document.getElementById("cardPopup");if(e){e.classList.remove("open"),e.setAttribute("aria-hidden","true");try{e.style.display=""}catch(e){}}try{document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open")}catch(e){}s&&s.focus&&s.focus()}function copyCode(){if(!a)return;const ok=()=>{try{trackSafe("copy_code",{vendor_id:l,vendor_name:(e[l]||{}).title||"",code_present:!!a})}catch(e){}const t=document.getElementById("copyToast");t?(t.classList.add("on"),setTimeout(()=>t.classList.remove("on"),900)):alert("가입코드가 복사되었습니다")};navigator.clipboard.writeText(a).then(ok).catch(()=>{try{const e=document.createElement("textarea");e.value=a,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove(),ok()}catch(e){}})}function init(){try{"function"==typeof window.saveUtmFromUrl&&window.saveUtmFromUrl()}catch(e){}!function bindControls(){const e=document.getElementById("filterSelect"),t=document.getElementById("sortSelect"),n=document.getElementById("toggleClean"),o=document.getElementById("searchInput");e&&e.addEventListener("change",()=>{c=e.value,renderGrid()}),t&&t.addEventListener("change",()=>{r=t.value,renderGrid()}),n&&n.addEventListener("change",()=>{i=!!n.checked,renderGrid()}),o&&o.addEventListener("input",()=>{renderGrid();try{clearTimeout(d),d=setTimeout(()=>{trackSafe("cert_search",{q_len:String(o.value||"").trim().length,filter:c,sort:r})},450)}catch(e){}})}(),renderGrid(),function openFromUrl(){try{const t=new URL(window.location.href).searchParams.get("v");t&&e[t]&&openCard(t)}catch(e){}}()}!function bindPopupControls(){const t=document.getElementById("cardPopup"),n=document.getElementById("closeBtn"),o=document.getElementById("copyBtn"),c=document.getElementById("favBtn"),r=document.getElementById("pLink"),i=document.getElementById("pTelegram");if(n&&n.addEventListener("click",closeCard),o&&o.addEventListener("click",copyCode),c&&c.addEventListener("click",()=>{try{const t=l,n=e[t]?.title||t,o=!!window.__88stToggleFavVendor&&window.__88stToggleFavVendor({id:t,title:n});c.textContent=o?"★ 즐겨찾기":"☆ 즐겨찾기",c.classList.toggle("is-on",!!o),window.__88stRefreshUserMenu&&window.__88stRefreshUserMenu(),trackSafe("fav_vendor_toggle",{vendor_id:t,vendor_name:n,state:o?"on":"off"})}catch(e){}}),r){try{r.setAttribute("data-no-auto-outbound","1"),r.setAttribute("data-outbound-manual","1")}catch(e){}r.addEventListener("click",()=>{try{trackSafe("outbound_click",{outbound_type:"vendor_site",vendor_id:l,vendor_name:(e[l]||{}).title||"",url:r.href})}catch(e){}})}if(i){try{i.setAttribute("data-no-auto-outbound","1"),i.setAttribute("data-outbound-manual","1")}catch(e){}i.addEventListener("click",()=>{try{trackSafe("outbound_click",{outbound_type:"telegram",vendor_id:l,vendor_name:(e[l]||{}).title||"",url:i.href})}catch(e){}})}t&&t.addEventListener("click",e=>{e.target===t&&closeCard()}),document.addEventListener("keydown",e=>{t&&t.classList.contains("open")&&"Escape"===e.key&&closeCard()})}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",init):init()})();