/* 88ST Theme System (Dark/Light/System) — Luxe SaaS */
:root{
  --accent:#f5e27a;
  --accent-rgb:245,226,122;
  --accentRGB:245,226,122; /* legacy */
  --blue-rgb:90,160,255;

  /* Legacy token bridge (landing/tool pages still use these tokens) */
  --gold:#d4af37;
  --gold2:#f5e27a;
  --accent1:var(--gold);
  --accent2:var(--gold2);
  --border:var(--panel-border);
  --border2:var(--panel-border-2);

  --bg:#0b0c10;
  --bg-2:#09090b;

  --text:rgba(255,255,255,.92);
  --text-2:rgba(255,255,255,.78);
  --muted:rgba(255,255,255,.62);
  --muted-2:rgba(255,255,255,.50);

  --panel:rgba(255,255,255,.06);
  --panel-2:rgba(255,255,255,.04);
  --panel-border:rgba(255,255,255,.10);
  --panel-border-2:rgba(255,255,255,.14);

  --input-bg:rgba(0,0,0,.34);
  --input-border:rgba(255,255,255,.14);

  --radius-md:14px;
  --radius-lg:18px;
  --radius-xl:22px;

  --shadow-sm:0 1px 0 rgba(255,255,255,.06), 0 10px 28px rgba(0,0,0,.45);
  --shadow-md:0 1px 0 rgba(255,255,255,.06), 0 18px 60px rgba(0,0,0,.62);
  --shadow-lg:0 1px 0 rgba(255,255,255,.08), 0 28px 90px rgba(0,0,0,.70);

  --font-sans:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR","Apple SD Gothic Neo","Malgun Gothic",sans-serif;
  --tracking:-0.015em;
  --tracking-h:-0.02em;
  --line:1.45;
}

/* Light theme — keep brand tint (subtle blue glaze) */
:root[data-theme="light"]{
  --bg:#f6f8ff;
  --bg-2:#ffffff;

  --text:rgba(18,20,28,.94);
  --text-2:rgba(18,20,28,.82);
  --muted:rgba(18,20,28,.64);
  --muted-2:rgba(18,20,28,.52);

  --panel:rgba(255,255,255,.88);
  --panel-2:rgba(255,255,255,.70);
  --panel-border:rgba(18,20,28,.10);
  --panel-border-2:rgba(18,20,28,.14);

  --input-bg:rgba(255,255,255,.92);
  --input-border:rgba(18,20,28,.16);

  --shadow-sm:0 1px 0 rgba(16,24,40,.04), 0 10px 28px rgba(16,24,40,.10);
  --shadow-md:0 1px 0 rgba(16,24,40,.05), 0 18px 60px rgba(16,24,40,.14);
  --shadow-lg:0 1px 0 rgba(16,24,40,.06), 0 28px 90px rgba(16,24,40,.18);

  /* legacy bridges */
  --border:var(--panel-border);
  --border2:var(--panel-border-2);
}

html{ font-size: clamp(15px, 0.35vw + 14px, 16px); }

h1{ font-size: clamp(28px, 2.2vw + 18px, 44px); line-height:1.15; }

h2{ font-size: clamp(20px, 1.2vw + 16px, 30px); line-height:1.18; }

h3{ font-size: clamp(18px, 0.9vw + 15px, 24px); line-height:1.22; }

html,body{
  font-family:var(--font-sans);
  letter-spacing:var(--tracking);
  line-height:var(--line);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  background:var(--bg) !important;
  color:var(--text) !important;
}

/* Hide empty header sublines (prevents “허전한 공백”) */
.header .sub:empty{ display:none !important; margin-top:0 !important; }

/* Heading tone */
h1,h2,h3,h4,.hero-title,.section-title,.box-title,.title{
  letter-spacing:var(--tracking-h);
}

/* Default link tone */
a{ color:inherit; text-decoration:none; }
a:hover{ opacity:.92; }

/* Inputs */
input,textarea,select{
  color:var(--text) !important;
  background:var(--input-bg) !important;
  border-color:var(--input-border) !important;
}
::placeholder{ color:var(--muted-2) !important; }

/* Card/Panel/Modal common luxe surface */
.box,.card,.panel,.tile,.modal-box,.modal,.kv,.kv .item,.vendor-teaser,.vendor-card,.tool-card,.faq-item,.glass,
.section,.hero,.rel-links{
  border-color:var(--panel-border) !important;
  background-color:var(--panel) !important;
  box-shadow:var(--shadow-sm);
}
:root[data-theme="light"] .box,
:root[data-theme="light"] .card,
:root[data-theme="light"] .panel,
:root[data-theme="light"] .tile,
:root[data-theme="light"] .modal-box,
:root[data-theme="light"] .modal,
:root[data-theme="light"] .kv,
:root[data-theme="light"] .kv .item,
:root[data-theme="light"] .vendor-teaser,
:root[data-theme="light"] .vendor-card,
:root[data-theme="light"] .tool-card,
:root[data-theme="light"] .faq-item,
:root[data-theme="light"] .glass,
:root[data-theme="light"] .section,
:root[data-theme="light"] .hero,
:root[data-theme="light"] .rel-links{
  /* keep existing color but add brand glaze */
  background-image:linear-gradient(180deg, rgba(var(--blue-rgb),.06), rgba(255,255,255,0)) !important;
}

/* Tool/landing nav pills (improve readability in light) */
.navlinks a{
  border-color:var(--panel-border) !important;
  background:var(--panel-2) !important;
  color:var(--text) !important;
}

/* Related links blocks appear on many tool pages (override inline dark styles) */
.rel-links{
  border-color:var(--panel-border) !important;
  background:var(--panel) !important;
  background-image: none !important;
  box-shadow:var(--shadow-sm) !important;
}
:root[data-theme="light"] .rel-links{
  background-image:linear-gradient(180deg, rgba(var(--blue-rgb),.06), rgba(255,255,255,0)) !important;
}
.rel-links h2{ color:var(--accent) !important; }
.rel-grid a{
  border-color:var(--panel-border) !important;
  background:var(--panel-2) !important;
  color:var(--text-2) !important;
}
.rel-grid a:hover{
  border-color:rgba(var(--accent-rgb), .35) !important;
  color:var(--text) !important;
}

/* Stronger text contrast in light mode for legacy components */
:root[data-theme="light"] .small-hint,
:root[data-theme="light"] .hint,
:root[data-theme="light"] .small,
:root[data-theme="light"] label,
:root[data-theme="light"] .muted,
:root[data-theme="light"] .sub,
:root[data-theme="light"] .desc{
  color:var(--muted) !important;
}
:root[data-theme="light"] .k,
:root[data-theme="light"] .label,
:root[data-theme="light"] .meta,
:root[data-theme="light"] .badge{
  color:var(--text-2) !important;
}

/* Buttons (lux) */
.btn,.button,button,.cta,.pill{
  box-shadow:var(--shadow-sm);
}
:root[data-theme="light"] .btn,
:root[data-theme="light"] .button,
:root[data-theme="light"] button,
:root[data-theme="light"] .cta,
:root[data-theme="light"] .pill{
  border-color:var(--panel-border-2) !important;
}

/* Scroll areas (avoid “text eaten” look) */
textarea, .bundle-ta, .share-ta, .promo-ta{
  caret-color:var(--accent) !important;
}
:root[data-theme="light"] textarea,
:root[data-theme="light"] .bundle-ta,
:root[data-theme="light"] .share-ta,
:root[data-theme="light"] .promo-ta{
  background:rgba(255,255,255,.92) !important;
}

/* Theme toggle — fixed top-right (avoid FAB overlap) */
#_88stThemeToggle{
  position:fixed;
  right:14px;
  top:calc(12px + env(safe-area-inset-top, 0px) + var(--_88stToggleTopExtra, 0px));
  bottom:auto !important; /* prevent legacy bottom-fixed overrides */
  z-index:99999;
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:999px;
  border:1px solid var(--panel-border);
  background:rgba(0,0,0,.35);
  background:color-mix(in srgb, var(--panel) 86%, transparent);
  backdrop-filter: blur(12px);
  box-shadow:var(--shadow-md);
  cursor:pointer;
  user-select:none;
}

/* Mobile: pin to bottom-right (prevents covering hero/cards at the top) */
@media (max-width: 860px){
  #_88stThemeToggle{
    right:12px;
    top:auto !important;
    bottom:calc(14px + env(safe-area-inset-bottom, 0px));
    padding:10px 12px;
    gap:8px;
  }
  #_88stThemeToggle .label{ display:none; }
  #_88stThemeToggle .mode{ font-size:11px; }
}
#_88stThemeToggle .icon{
  width:26px; height:26px;
  display:grid; place-items:center;
  border-radius:10px;
  background:rgba(0,0,0,.22);
  background:color-mix(in srgb, var(--panel) 82%, transparent);
  border:1px solid var(--panel-border);
}
#_88stThemeToggle .label{
  font-weight:800;
  font-size:13px;
  letter-spacing:var(--tracking);
}
#_88stThemeToggle .mode{
  font-size:12px;
  color:var(--muted);
  font-weight:700;
}
:root[data-theme="light"] #_88stThemeToggle{
  background:rgba(255,255,255,.80);
}

/* Smooth transition when switching */
html._themeTransition body,
html._themeTransition .box,
html._themeTransition .card,
html._themeTransition .panel,
html._themeTransition .tile,
html._themeTransition .modal-box,
html._themeTransition input,
html._themeTransition textarea,
html._themeTransition select,
html._themeTransition button,
html._themeTransition #_88stThemeToggle{
  transition:background-color .22s ease, color .22s ease, border-color .22s ease, box-shadow .22s ease;
}


/* Share/Bundles canvas wraps — match theme */
.share-canvas-wrap, .bundle-canvas-wrap{
  background:color-mix(in srgb, var(--panel) 80%, transparent) !important;
  border:1px solid var(--panel-border) !important;
}
:root[data-theme="light"] .share-canvas-wrap,
:root[data-theme="light"] .bundle-canvas-wrap{
  background:rgba(255,255,255,.78) !important;
}

/* Ensure legacy dark-only text becomes readable in light */
:root[data-theme="light"] .bundle-meta,
:root[data-theme="light"] .bundle-meta b,
:root[data-theme="light"] .bundle-ta,
:root[data-theme="light"] .promo-meta,
:root[data-theme="light"] .promo-ta,
:root[data-theme="light"] .share-ta{
  color:var(--text) !important;
}
:root[data-theme="light"] .bundle-meta{
  background:rgba(255,255,255,.70) !important;
  border-color:rgba(18,20,28,.12) !important;
}


/* Logo wrap — consistent luxe badge */
.logoWrap{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:10px 12px;
  border-radius:16px;
  border:1px solid var(--panel-border);
  background:color-mix(in srgb, var(--panel) 76%, transparent);
  box-shadow:var(--shadow-sm);
}
.logoImg,.logo-img{
  display:block;
  height:auto;
}
:root[data-theme="light"] .logoWrap{
  background:rgba(255,255,255,.88);
}
:root[data-theme="light"] .logoImg,
:root[data-theme="light"] .logo-img{
  filter: drop-shadow(0 10px 22px rgba(16,24,40,.10));
}



/* ===========================
   Luxe Interaction System — unified hover/active/focus + 8pt rhythm
   =========================== */

:root{
  /* 8pt spacing scale */
  --sp-0:0px;
  --sp-1:8px;
  --sp-2:16px;
  --sp-3:24px;
  --sp-4:32px;
  --sp-5:40px;
  --sp-6:48px;
  --sp-7:56px;
  --sp-8:64px;
  --sp-9:72px;
  --sp-10:80px;
  --sp-12:96px;

  /* Section rhythm */
  --section-gap: var(--sp-7);
  --block-gap: var(--sp-3);

  /* Focus ring */
  --ring: 0 0 0 4px rgba(var(--accent-rgb), .20);
  --ring-strong: 0 0 0 5px rgba(var(--accent-rgb), .28);
}

/* Page padding rhythm (safe + non-destructive) */
.wrap{
  padding-left: var(--sp-3) !important;
  padding-right: var(--sp-3) !important;
}
@media (min-width: 920px){
  .wrap{ padding-left: var(--sp-4) !important; padding-right: var(--sp-4) !important; }
}

/* Top-level section rhythm */
.section{ margin-top: var(--section-gap) !important; margin-bottom: var(--section-gap) !important; }
.section-wrap{ margin-top: var(--section-gap) !important; margin-bottom: var(--section-gap) !important; }

/* Inside-section breathing room */
.section .box, .section .card, .section .panel, .section .tile, .section .faq-item{
  margin-top: var(--block-gap);
}

/* Unified interactive baseline */
a, button, .btn, .button, .cta, .pill, .chip, .tag, .link-chip, .seg, .seg-btn, [role="button"]{
  -webkit-tap-highlight-color: transparent;
}

button, .btn, .button, .cta, .pill, .chip, .tag, .link-chip, .seg-btn, [role="button"]{
  transition: transform .14s ease, filter .14s ease, background-color .18s ease, border-color .18s ease, box-shadow .18s ease, color .18s ease, opacity .18s ease;
  transform: translateZ(0);
}

button:hover, .btn:hover, .button:hover, .cta:hover, .pill:hover, .chip:hover, .tag:hover, .link-chip:hover, .seg-btn:hover, [role="button"]:hover{
  filter: brightness(1.05);
  box-shadow: var(--shadow-md);
}

button:active, .btn:active, .button:active, .cta:active, .pill:active, .chip:active, .tag:active, .link-chip:active, .seg-btn:active, [role="button"]:active{
  transform: translateY(1px);
  filter: brightness(0.98);
  box-shadow: var(--shadow-sm);
}

/* Focus: consistent, premium ring */
button:focus-visible, .btn:focus-visible, .button:focus-visible, .cta:focus-visible, .pill:focus-visible,
.chip:focus-visible, .tag:focus-visible, .link-chip:focus-visible, .seg-btn:focus-visible,
a:focus-visible, [role="button"]:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible{
  outline: none !important;
  box-shadow: var(--shadow-sm), var(--ring) !important;
}

/* Links: premium underline on hover (non-button links only) */
a:not(.btn):not(.button):not(.cta):not(.pill):not(.chip):not(.tag):not(.link-chip):hover{
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 2px;
  text-decoration-color: rgba(var(--accent-rgb), .55);
}

/* Chips/badges: unify shape/edge */
.chip, .tag, .link-chip{
  border: 1px solid var(--panel-border) !important;
  background: color-mix(in srgb, var(--panel) 86%, transparent) !important;
  border-radius: 999px !important;
}

/* Light theme: slightly stronger edge so chips don't look washed out */
:root[data-theme="light"] .chip,
:root[data-theme="light"] .tag,
:root[data-theme="light"] .link-chip{
  border-color: rgba(18,20,28,.14) !important;
  background: rgba(255,255,255,.86) !important;
}

/* Button elevation tiers (if pages use .mini etc, keep it subtle) */
.btn.mini, button.mini{ box-shadow: var(--shadow-sm); }
.btn.primary, .btn.gold, .btn.accent, .cta.primary{ box-shadow: var(--shadow-md); }



/* Disabled state: no lift */
button:disabled, .btn:disabled, .btn.disabled, [role="button"][aria-disabled="true"]{
  opacity: .55 !important;
  cursor: not-allowed !important;
  transform: none !important;
  filter: none !important;
  box-shadow: var(--shadow-sm) !important;
}
button:disabled:hover, .btn:disabled:hover, .btn.disabled:hover, [role="button"][aria-disabled="true"]:hover{
  filter: none !important;
  transform: none !important;
  box-shadow: var(--shadow-sm) !important;
}

